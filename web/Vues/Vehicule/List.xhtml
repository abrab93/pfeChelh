<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <title>Gestion des poles</title>
    </head>

    <body>
        <!-- DECLARATION DU TEMPLATE DONT LA PAGE EST CLIENTE -->
        <ui:composition template="/Vues/layout.xhtml">

            <ui:define name="content">
                <!-- Redefinition du contenu du template  -->
                <div id="page-wrapper" >
                    <div id="page-inner">
                        <div class="row">
                            <div class="col-md-12">
                                  
                                
                                <h:form id="form">

                                    <p:dataGrid  var="car" value="#{vehiculeControler.vehicules}" columns="3" layout="grid"
                                                 rows="12" paginator="true" id="cars"
                                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rowsPerPageTemplate="6,12,16">

                                        <f:facet name="header">
                                            Cars for Sale
                                        </f:facet>

                                        <p:panel header="#{car.idVehicule}" style="text-align:center">
                                            <h:panelGrid columns="1" style="width:100%">
                                                <p:graphicImage library="images" name="#{car.marque.libelleMarque}.png" />

                                                <h:outputText value="#{car.usageVehicule}" />
                                                <p:panelGrid columns="3" style="margin-left: 90px"> 
                                                    <p:commandLink update=":form:carDetail" oncomplete="PF('carDialog').show()"  >
                                                        <h:outputText id="search" styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                                                        <f:setPropertyActionListener value="#{car}" target="#{vehiculeControler.vehicule}" />
                                                        <p:tooltip id="toolTipFade" for="search" value="Details" />
                                                    </p:commandLink>
                                                    

                                                    <p:commandLink  update="idForm:carDetail1" oncomplete="PF('carDialog1').show()">
                                                        <h:outputText id="pencil" styleClass="ui-icon ui-icon-pencil" style="margin:0 auto;" />
                                                        <f:setPropertyActionListener value="#{car}" target="#{vehiculeControler.vehicule}" />
                                                        <p:tooltip id="toolTipFade2" for="pencil" value="Modifier" />
                                                    </p:commandLink>

                                                    <p:commandLink  oncomplete="PF('carDialog2').show()">
                                                        <h:outputText id="trash" styleClass="ui-icon ui-icon-trash" style="margin:0 auto;" />
                                                        <f:setPropertyActionListener value="#{car}" target="#{vehiculeControler.vehicule}" />
                                                        <p:tooltip id="toolTipFade3" for="trash" value="Supprimer" />
                                                    </p:commandLink>
                                                </p:panelGrid>
                                            </h:panelGrid>
                                        </p:panel>

                                    </p:dataGrid>
                                   
                                    <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                                        <p:outputPanel id="carDetail" style="text-align:center;">
                                            <p:panelGrid  columns="2" rendered="#{not empty vehiculeControler.vehicule}" columnClasses="value">
                                                <f:facet name="header">
                                                    <p:graphicImage library="images" name="#{vehiculeControler.vehicule.marque.libelleMarque}.png" /> 
                                                </f:facet>



                                                <h:outputText value="DureDeVie:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.dureDeVie}" />

                                                <h:outputText value="Marque:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.marque.libelleMarque}" />

                                                <h:outputText value="KilometrageVehicule:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.kilometrageVehicule}" />

                                                <h:outputText value="NombreCylindres:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.nombreCylindres}" />

                                                <h:outputText value="NombrePlaces:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.nombrePlaces}" />

                                                <h:outputText value="NumeroChassis:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.numeroChassis}" />

                                                <h:outputText value="PoidsVide:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.poidsVide}" />

                                                <h:outputText value="Typecarburant:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.typecarburant.libelleTypeCarburant}" />

                                                <h:outputText value="Typevehicule:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.typevehicule.libelleTypeVehicule}" />

                                                <h:outputText value="Remorque:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.remorque}" />

                                                <h:outputText value="Proprietairevehicule:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.proprietairevehicule.prenom}" />

                                                <h:outputText value="Date1mc:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.date1mc}" />

                                                <h:outputText value="Date1mcmaroc:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.date1mcmaroc}" />

                                                <h:outputText value="Immatriculation:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.immatriculation}" />

                                                <h:outputText value="Ptac:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.ptac}" />

                                                <h:outputText value="Ptmct:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.ptmct}" />

                                                <h:outputText value="PuissanceFiscale:" />
                                                <h:outputText value="#{vehiculeControler.vehicule.puissanceFiscale}" />


                                            </p:panelGrid>
                                        </p:outputPanel>
                                    </p:dialog>
                                    
                                    </h:form>
                                
                                <h:form id="idForm">
                                <p:dialog header="Car Info" widgetVar="carDialog1" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                                        <p:outputPanel id="carDetail1" style="text-align:center;">
                                            <p:panelGrid  columns="2" rendered="#{not empty vehiculeControler.vehicule}" columnClasses="value">
                                                <f:facet name="header">
                                                    <p:graphicImage library="images" name="#{vehiculeControler.vehicule.marque.libelleMarque}.png" /> 
                                                </f:facet>



                                               
                                        <h1><h:outputText value="Create/Edit"/></h1>
                                        
                                            <p:panelGrid columns="4">
                                                
                                                <p:outputLabel value="Marque:" for="marque" />
                                                <p:selectOneMenu id="marque" value="#{vehiculeControler.vehicule.marque.idMarque}" required="true" requiredMessage="The Marque field is required.">
                                                     <f:selectItem itemLabel="Select One" itemValue="" />
                                                    <f:selectItems value="#{marqueControler.marques}" var="m" itemLabel="#{m.libelleMarque}" itemValue="#{m.idMarque}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="Proprietairevehicule:" for="proprietairevehicule" />
                                                <p:selectOneMenu id="proprietairevehicule" value="#{vehiculeControler.vehicule.proprietairevehicule.idProprietaire}" required="true" requiredMessage="The Proprietairevehicule field is required.">
                                                    <f:selectItem itemLabel="Select One" itemValue="" />
                                                    <f:selectItems value="#{proprietairevehiculeControler.proprietairevehicules}" var="p" itemLabel="#{p.prenom}" itemValue="#{p.idProprietaire}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="Typecarburant:" for="typecarburant" />
                                                <p:selectOneMenu id="typecarburant" value="#{vehiculeControler.vehicule.typecarburant.idTypeCarburant}" required="true" requiredMessage="The Typecarburant field is required.">
                                                    <f:selectItem itemLabel="Select One" itemValue="" />
                                                    <f:selectItems value="#{typecarburantControler.typecarburants}" var="tc" itemLabel="#{tc.libelleTypeCarburant}" itemValue="#{tc.idTypeCarburant}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="Typevehicule:" for="typevehicule" />
                                                <p:selectOneMenu id="typevehicule" value="#{vehiculeControler.vehicule.typevehicule.idTypeVehicule}" required="true" requiredMessage="The Typevehicule field is required.">
                                                    <f:selectItem itemLabel="Select One" itemValue="" />
                                                    <f:selectItems value="#{typevehiculeControler.typevehicules}" var="tv" itemLabel="#{tv.libelleTypeVehicule}" itemValue="#{tv.idTypeVehicule}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="Immatriculation:" for="immatriculation" />
                                                <p:inputText id="immatriculation" value="#{vehiculeControler.vehicule.immatriculation}" title="Immatriculation" required="true" requiredMessage="The Immatriculation field is required."/>
                                                <p:outputLabel value="Date1mc:" for="date1mc" />
                                                <p:calendar id="date1mc" value="#{vehiculeControler.vehicule.date1mc}" title="Date1mc" required="true" requiredMessage="The Date1mc field is required." />
                                                    
                                                
                                                <p:outputLabel value="Date1mcmaroc:" for="date1mcmaroc" />
                                                <p:calendar id="date1mcmaroc" value="#{vehiculeControler.vehicule.date1mcmaroc}" title="Date1mcmaroc" required="true" requiredMessage="The Date1mcmaroc field is required."/>
                                                   
                                                <p:outputLabel value="UsageVehicule:" for="usageVehicule" />
                                                <p:inputText id="usageVehicule" value="#{vehiculeControler.vehicule.usageVehicule}" title="UsageVehicule" required="true" requiredMessage="The UsageVehicule field is required."/>
                                                <p:outputLabel value="NumeroChassis:" for="numeroChassis" />
                                                <p:inputText id="numeroChassis" value="#{vehiculeControler.vehicule.numeroChassis}" title="NumeroChassis" required="true" requiredMessage="The NumeroChassis field is required."/>
                                                <p:outputLabel value="NombreCylindres:" for="nombreCylindres" />
                                                <p:inputText id="nombreCylindres" value="#{vehiculeControler.vehicule.nombreCylindres}" title="NombreCylindres" required="true" requiredMessage="The NombreCylindres field is required."/>
                                                <p:outputLabel value="PuissanceFiscale:" for="puissanceFiscale" />
                                                <p:inputText id="puissanceFiscale" value="#{vehiculeControler.vehicule.puissanceFiscale}" title="PuissanceFiscale" required="true" requiredMessage="The PuissanceFiscale field is required."/>
                                                <p:outputLabel value="NombrePlaces:" for="nombrePlaces" />
                                                <p:inputText id="nombrePlaces" value="#{vehiculeControler.vehicule.nombrePlaces}" title="NombrePlaces" required="true" requiredMessage="The NombrePlaces field is required."/>
                                                <p:outputLabel value="Ptac:" for="ptac" />
                                                <p:inputText id="ptac" value="#{vehiculeControler.vehicule.ptac}" title="Ptac" required="true" requiredMessage="The Ptac field is required."/>
                                                <p:outputLabel value="PoidsVide:" for="poidsVide" />
                                                <p:inputText id="poidsVide" value="#{vehiculeControler.vehicule.poidsVide}" title="PoidsVide" required="true" requiredMessage="The PoidsVide field is required."/>
                                                <p:outputLabel value="Ptmct:" for="ptmct" />
                                                <p:inputText id="ptmct" value="#{vehiculeControler.vehicule.ptmct}" title="Ptmct" required="true" requiredMessage="The Ptmct field is required."/>
                                                <p:outputLabel value="DureDeVie:" for="dureDeVie" />
                                                <p:inputText id="dureDeVie" value="#{vehiculeControler.vehicule.dureDeVie}" title="DureDeVie" required="true" requiredMessage="The DureDeVie field is required."/>
                                                <p:outputLabel value="KilometrageVehicule:" for="kilometrageVehicule" />
                                                <p:inputText id="kilometrageVehicule" value="#{vehiculeControler.vehicule.kilometrageVehicule}" title="KilometrageVehicule" required="true" requiredMessage="The KilometrageVehicule field is required."/>
                                                <p:outputLabel value="Remorque" for="Remorque" />
                                                <p:selectBooleanButton id="Remorque" value="#{vehiculeControler.vehicule.remorque}" onLabel="Yes" offLabel="No" style="width:60px" />
                                               
                                            </p:panelGrid>
                                            
                                        <p:commandButton value="mettre a jour" action="#{vehiculeControler.tst()}" oncomplete="PF('carDialog1').hide()"/>
                                      
                                          

                                               
                                            </p:panelGrid>
                                        </p:outputPanel>
                                    </p:dialog>
                                </h:form>
                                
                                <h:form>
                                    <p:dialog widgetVar="carDialog2" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                                        <p:outputLabel value="Voulez-vous vraiment supprimer la vehicule"/>
                                        <h:panelGrid columns="2" style="margin-left: 90px"> 
                                            <p:commandButton update="form:cars" value="oui" actionListener="#{vehiculeControler.delete()}" oncomplete="PF('carDialog2').hide()"/>
                                            <p:commandButton value="non" oncomplete="PF('carDialog2').hide()"/>
                                        </h:panelGrid>    
                                    </p:dialog>
                                </h:form>

                   </div>
                        </div>
                        <!-- /. ROW  -->
                        

                    </div>
                    <!-- /. PAGE INNER  -->
                </div> 
            </ui:define>


        </ui:composition>
           
    </body>
</html>


